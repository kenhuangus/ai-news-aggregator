{% extends "base.html" %}

{% block title %}AI News Daily - {{ date }}{% endblock %}

{% block content %}
<div class="card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">
    <h2 style="color: white;">ğŸ“… {{ date }}</h2>
    <p style="opacity: 0.95;">{{ total_items }} items collected and analyzed</p>
</div>

<div class="card">
    <h2>ğŸ“Š Executive Summary</h2>
    <div class="content">
        {{ executive_summary|markdown_to_html|safe }}
    </div>
</div>

{% if trends %}
<div class="card">
    <h2>ğŸ“ˆ Trending Topics</h2>
    {% for trend in trends %}
    <div style="margin-bottom: 1rem;">
        <h3>{{ trend.trend }}</h3>
        <p>{{ trend.description }}</p>
    </div>
    {% endfor %}
</div>
{% endif %}

<div class="card">
    <h2>â­ Top Stories</h2>
    {% for item in top_items[:10] %}
    <div style="border-left: 3px solid #667eea; padding-left: 1rem; margin-bottom: 1.5rem;">
        <h3>{{ item.title }}</h3>
        <div class="meta">
            <span class="badge">{{ item.source_type }}</span>
            <span>{{ item.source }}</span> â€¢ 
            <span>{{ item.published|datetime_format }}</span>
        </div>
        {% if item.llm_summary %}
        <div style="margin-top: 0.5rem;">{{ item.llm_summary|markdown_to_html|safe }}</div>
        {% endif %}
        <a href="{{ item.url }}" target="_blank" class="btn" style="margin-top: 0.5rem;">Read More â†’</a>
    </div>
    {% endfor %}
</div>

<h2 style="margin-top: 2rem; margin-bottom: 1rem;">ğŸ“‘ Browse by Category</h2>
<div class="grid">
    {% for category, data in categories.items() %}
    <div class="card">
        <h3>{{ category }}</h3>
        <p class="meta">{{ data.count }} items</p>
        <a href="{{ category|lower|replace(' ', '_')|replace('&', 'and') }}.html" class="btn">View All â†’</a>
    </div>
    {% endfor %}
</div>
{% endblock %}