---
phase: 05-documentation-cleanup
plan: 04
type: execute
wave: 2
depends_on: ["05-01", "05-02", "05-03"]
files_modified:
  - README.md
autonomous: true

must_haves:
  truths:
    - "User can read README and understand how to deploy via Docker"
    - "User can read README and understand how to run locally"
    - "User can understand LLM provider configuration options"
    - "User can understand image provider configuration options"
    - "User can understand prompt customization"
    - "README contains no RDSec or Trend Micro references"
    - "README references Apache 2.0 license"
  artifacts:
    - path: "README.md"
      provides: "Comprehensive external documentation"
      min_lines: 200
      contains: "Quick Start"
  key_links:
    - from: "README.md"
      to: "config/providers.yaml"
      via: "configuration reference"
      pattern: "providers.yaml"
    - from: "README.md"
      to: "config/prompts.yaml"
      via: "prompt customization reference"
      pattern: "prompts.yaml"
---

<objective>
Rewrite README.md for external open-source audience with comprehensive deployment and configuration documentation.

Purpose: Enable external users to understand, deploy, and customize their own instance of the AI News Aggregator.
Output: Complete README.md suitable for public GitHub repository.
</objective>

<execution_context>
@/Users/ryand/.claude/get-shit-done/workflows/execute-plan.md
@/Users/ryand/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/05-documentation-cleanup/05-CONTEXT.md
@.planning/phases/05-documentation-cleanup/05-01-SUMMARY.md
@.planning/phases/05-documentation-cleanup/05-02-SUMMARY.md
@.planning/phases/05-documentation-cleanup/05-03-SUMMARY.md

From context decisions:
- Balanced approach: quick start + architecture overview
- Docker and local dev paths side-by-side (not prioritizing one)
- Remove all RDSec/Trend Micro references
- Keep TrendAI/AATF branding
- Document provider modes and configuration
- Document prompt customization
- Link to GitHub Issues instead of email contacts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Rewrite README.md for external audience</name>
  <files>README.md</files>
  <action>
    Completely rewrite README.md with the following structure:

    ## Header
    - Project title with logo (keep existing banner image)
    - Brief tagline: "Daily AI/ML news briefings powered by Claude Opus 4.5"
    - Badges: License (Apache 2.0), Python version, Docker

    ## What Is This?
    - Multi-agent pipeline that collects AI/ML news from multiple sources
    - Analyzes using Claude Opus 4.5 with extended thinking
    - Serves a modern Svelte SPA frontend
    - Originally built by AATF (AI Acceleration Task Force)

    ## Features
    - 4 parallel gatherers (RSS/News, arXiv/Research, Social, Reddit)
    - Extended thinking analysis (QUICK/STANDARD/DEEP/ULTRATHINK)
    - Cross-category topic detection
    - Executive summary generation
    - Hero image generation (optional, via Gemini)
    - Full-text search with Lunr.js
    - Atom RSS feeds
    - Dark mode support

    ## Quick Start
    Present Docker and local dev side-by-side:

    ### Docker (Recommended)
    ```bash
    # Clone repository
    git clone https://github.com/trend-ai-acceleration-task-force/ai-news-aggregator.git
    cd ai-news-aggregator

    # Configure providers
    cp config/providers.yaml.example config/providers.yaml
    # Edit config/providers.yaml with your API keys

    # Start services
    docker-compose up -d

    # Run pipeline manually (first time)
    docker exec ai-news-aggregator python3 /app/run_pipeline.py
    ```

    ### Local Development
    ```bash
    # Clone repository
    git clone ...
    cd ai-news-aggregator

    # Backend setup
    python3 -m venv venv
    source venv/bin/activate
    pip install -r requirements.txt

    # Configure providers
    cp config/providers.yaml.example config/providers.yaml
    # Edit with your API keys

    # Run pipeline
    python3 run_pipeline.py

    # Frontend development (separate terminal)
    cd frontend
    npm install
    npm run dev
    ```

    ## Configuration

    ### Provider Configuration (config/providers.yaml)
    Explain the two LLM modes:
    - `anthropic`: Direct Anthropic API (x-api-key auth) - recommended
    - `openai-compatible`: OpenAI-compatible proxy (Bearer auth)

    Explain the two image modes:
    - `native`: Google Gemini API (google-genai SDK) - recommended
    - `openai-compatible`: OpenAI-compatible image endpoint

    Show example configurations for each mode.

    ### Pipeline Settings
    - `base_url`: Your deployment domain for RSS feeds
    - `lookback_hours`: Data collection window

    ### Environment Variables
    Only secrets should be env vars (used via ${VAR} in YAML):
    - ANTHROPIC_API_KEY
    - GOOGLE_API_KEY (optional, for hero images)
    - TWITTERAPI_IO_KEY (optional, for Twitter collection)

    ## Prompt Customization
    All LLM prompts are in `config/prompts.yaml`.
    - Analyzer prompts (batch_analysis, ranking)
    - Orchestration prompts (topic_detection, executive_summary)
    - Post-processing prompts (link_enrichment, ecosystem_enrichment)

    Users can modify prompts without code changes.

    ## Architecture
    Brief overview of pipeline phases:
    1. Phase 0: Ecosystem context initialization
    2. Phase 1: Parallel gathering
    3. Phase 2: Parallel analysis
    4. Phase 3: Topic detection
    5. Phase 4: Executive summary
    6. Phase 4.5-4.7: Enrichment and hero generation
    7. Phase 5-6: Assembly and output

    ## Data Sources
    Document how to add:
    - RSS feeds (config/rss_feeds.txt)
    - Research blogs (config/research_feeds.txt)
    - Social accounts (bluesky, mastodon, twitter)
    - Reddit subreddits

    ## Requirements
    - Python 3.10+
    - Node.js 18+ (for frontend)
    - Claude Opus 4.5 recommended (extended thinking)
    - Gemini 3 Pro (optional, for hero images)

    ## License
    Apache 2.0 - see LICENSE file

    ## Contributing
    - GitHub Issues for bugs and feature requests
    - Pull requests welcome
    - See CLAUDE.md for development guidelines

    ## Acknowledgments
    - Built by AI Acceleration Task Force (AATF)
    - Powered by Claude Opus 4.5 and Gemini 3 Pro

    ---

    DO NOT include:
    - Any RDSec references
    - Any @trendmicro.com email addresses
    - Any internal portal links
    - Any "internal users" language
  </action>
  <verify>
    README.md exists and has substantial content (> 200 lines)
    grep -i "rdsec" README.md returns no results
    grep "@trendmicro.com" README.md returns no results
    grep "providers.yaml" README.md returns results (configuration documented)
    grep "prompts.yaml" README.md returns results (customization documented)
    grep "Apache" README.md returns results (license mentioned)
  </verify>
  <done>README.md rewritten for external open-source audience</done>
</task>

<task type="auto">
  <name>Task 2: Run final verification checks</name>
  <files>None (verification only)</files>
  <action>
    Run comprehensive verification to ensure all cleanup is complete:

    1. RDSec check:
       grep -ri "rdsec" --include="*.py" --include="*.yaml" --include="*.yml" --include="*.md" .

    2. Trend Micro check:
       grep -ri "trendmicro\|trend.micro" --include="*.py" --include="*.md" .
       grep -r "@trendmicro.com" .

    3. Internal URL check:
       grep -r "portal\.rdsec\|api\.rdsec" .
       grep -r "news\.aatf\.ai" generators/

    4. License check:
       head -5 LICENSE

    5. About page check:
       ls frontend/src/routes/about/+page.svelte

    6. Config check:
       grep "pipeline:" config/providers.yaml
       grep "base_url:" config/providers.yaml

    Document any remaining issues found.
  </action>
  <verify>
    Expected results:
    1. RDSec check: grep returns empty (no matches found)
    2. Trend Micro check: grep returns empty (no matches found)
    3. Internal URL check: grep returns empty (no matches found)
    4. License check: first line shows "Apache License"
    5. About page check: file exists at frontend/src/routes/about/+page.svelte
    6. Config check: grep returns lines containing "pipeline:" and "base_url:"
  </verify>
  <done>All cleanup verified, no internal references remain</done>
</task>

<task type="auto">
  <name>Task 3: Update ROADMAP.md progress</name>
  <files>.planning/ROADMAP.md</files>
  <action>
    Update the ROADMAP.md to mark Phase 5 as complete:

    1. Change the Phase 5 checkbox from [ ] to [x]
    2. Update the progress table for Phase 5:
       - Plans Complete: 4/4
       - Status: Complete (pending verification)
       - Completed: current date

    Keep all other content intact.
  </action>
  <verify>
    grep "\[x\].*Phase 5" .planning/ROADMAP.md returns result
  </verify>
  <done>ROADMAP.md updated with Phase 5 completion</done>
</task>

</tasks>

<verification>
Final verification checklist:

```bash
# 1. No RDSec references
echo "=== RDSec Check ==="
grep -ri "rdsec" --include="*.py" --include="*.yaml" --include="*.yml" . && echo "FAIL" || echo "PASS"

# 2. No Trend Micro references (except TrendAI/AATF which is OK)
echo "=== Trend Micro Check ==="
grep -ri "@trendmicro.com" . && echo "FAIL" || echo "PASS"

# 3. License is Apache 2.0
echo "=== License Check ==="
head -1 LICENSE | grep -q "Apache" && echo "PASS" || echo "FAIL"

# 4. README has key sections
echo "=== README Check ==="
grep -q "Quick Start" README.md && grep -q "Configuration" README.md && echo "PASS" || echo "FAIL"

# 5. About page exists
echo "=== About Page Check ==="
test -f frontend/src/routes/about/+page.svelte && echo "PASS" || echo "FAIL"

# 6. Pipeline config exists
echo "=== Pipeline Config Check ==="
grep -q "pipeline:" config/providers.yaml && echo "PASS" || echo "FAIL"
```
</verification>

<success_criteria>
- README.md is comprehensive and suitable for external users
- No RDSec or Trend Micro references anywhere in codebase
- All verification commands pass
- ROADMAP.md shows Phase 5 complete
- Documentation references providers.yaml and prompts.yaml
- License is clearly Apache 2.0
</success_criteria>

<output>
After completion, create `.planning/phases/05-documentation-cleanup/05-04-SUMMARY.md`
</output>
